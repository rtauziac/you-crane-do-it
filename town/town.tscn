[gd_scene load_steps=10 format=3 uid="uid://bq622784om5pi"]

[ext_resource type="Script" path="res://town/town.gd" id="1_rqm5u"]
[ext_resource type="PackedScene" uid="uid://cbskhhu7g3xuy" path="res://crane/crane.tscn" id="2_mm6le"]
[ext_resource type="Resource" uid="uid://bvxdybhr1rqer" path="res://missions/files/mission_1.tres" id="2_n6s68"]
[ext_resource type="PackedScene" uid="uid://bxkjpjo28k0m1" path="res://city/city.tscn" id="3_c188g"]
[ext_resource type="PackedScene" uid="uid://dxjyenry8pi2n" path="res://town/mission_overlay.tscn" id="4_hqmpk"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_67s3r"]
sky_top_color = Color(0.54902, 0.690196, 0.988235, 1)
sky_horizon_color = Color(0.913725, 0.945098, 1, 1)
ground_bottom_color = Color(0.372549, 0.305882, 0.27451, 1)
ground_horizon_color = Color(0.760784, 0.764706, 0.745098, 1)

[sub_resource type="Sky" id="Sky_wrf86"]
sky_material = SubResource("ProceduralSkyMaterial_67s3r")

[sub_resource type="Environment" id="Environment_k688p"]
background_mode = 2
sky = SubResource("Sky_wrf86")
tonemap_mode = 2
tonemap_exposure = 0.94
tonemap_white = 1.24
ssao_enabled = true
ssao_radius = 0.7
ssao_power = 3.10579
ssil_enabled = true
ssil_radius = 2.08
sdfgi_enabled = true
sdfgi_bounce_feedback = 0.24
sdfgi_min_cell_size = 0.0295898
sdfgi_y_scale = 0
sdfgi_energy = 0.75
glow_enabled = true
glow_levels/2 = 1.0
glow_levels/5 = 0.0
fog_light_color = Color(0.6, 0.827451, 0.964706, 1)
fog_density = 0.042
fog_sky_affect = 0.0
adjustment_enabled = true
adjustment_brightness = 1.02
adjustment_contrast = 1.27
adjustment_saturation = 1.32

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_cg3b8"]

[node name="Town" type="Node3D"]
script = ExtResource("1_rqm5u")
mission_list = Array[Resource("res://missions/mission.gd")]([ExtResource("2_n6s68")])

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_k688p")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.394279, -0.355961, 0.847252, 0, 0.921937, 0.387339, -0.918991, -0.152719, 0.3635, 7.92913, 5.25058, 3.79011)
size = 1.925

[node name="Crane" parent="." instance=ExtResource("2_mm6le")]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.246109, -0.864945, 0.437379, -0.449796, 0.501647, 0.738941, -0.858553, -0.0148712, -0.512508, 0, 0, 0)
shadow_enabled = true
directional_shadow_mode = 0
directional_shadow_blend_splits = true
directional_shadow_max_distance = 20.0

[node name="City" parent="." instance=ExtResource("3_c188g")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.311326, 0.0598566, 0.312741)

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.35895, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("WorldBoundaryShape3D_cg3b8")

[node name="MissionOverlay" parent="." instance=ExtResource("4_hqmpk")]

[connection signal="change_camera_target_to_node3D" from="." to="Crane" method="_on_change_camera_target"]
